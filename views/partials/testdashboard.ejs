



  <!-- Your chart canvas will be placed here -->

  <div class="row">
    <div class="col-6">
      <canvas id="ramChart" ></canvas>

    </div>

  </div>

  <!-- Your JavaScript code for creating the chart will go here -->

  <script>
    var ctx = document.getElementById('ramChart').getContext('2d');
  
    var ramData = {
      labels: [],
      datasets: [{
        label: 'RAM Usage (%)',
        borderColor: 'rgb(75, 192, 192)',
        borderWidth: 2,
        data: [],
        fill: false,
      }]
    };
  
    var ramChart = new Chart(ctx, {
      type: 'line',
      data: ramData,
      options: {
        scales: {
          y: { min: 0, max: 100 }
        }
      }
    });
  
    async function fetchData() {
      const data = await execute('free | awk \'/^Mem/ {print $3/$2 * 100.0}\'');
      const timestamp = new Date().toLocaleTimeString();
  
      // Add new data
      ramData.labels.push(timestamp);
      ramData.datasets[0].data.push(parseFloat(data)); // Convert to percentage
  
      // Remove oldest data if more than 10 datasets
      if (ramData.labels.length > 5) {
        ramData.labels.shift();
        ramData.datasets[0].data.shift();
      }
  
      ramChart.update();
    }
    
    fetchData()
    // Fetch data every 2 seconds (adjust as needed)
    setInterval(fetchData, 5000);
  </script>
  






<div class="row text-light">
  <div class="col mb-2">
           <h2 style="font-family: 'Rubik', sans-serif;" class="fw-bold m-1" >Setup Your Server</h2>
           <p class="text-muted m-1" >This will Install all the required programs : Nginx , Git , Nodejs , Pm2 , Python</p>
    <button class="btn  btn-primary ms-1" onclick="setupserver(this)" id="saveButton"><i class="fa-solid fa-wand-magic-sparkles"></i> Setup Server</button>
    <hr>
    <p class="m-0 text-muted ms-3">Intall Sapratly</p>

    <div class="m-1">
      <button class="btn btn-sm btn-danger ms-3" onclick="nodejs(this)" id="saveButton"><i class="fa-brands fa-node"></i> Install Nodejs</button>

    </div>
    <div class="m-1">
      <button class="btn btn-sm btn-danger ms-3" onclick="nginx(this)" id="saveButton"><i class="fa-solid fa-server"></i> Install Nginx</button>

    </div>
    <div class="m-1">
      <button class="btn btn-sm btn-danger ms-3" onclick="npm(this)" id="saveButton"><i class="fa-solid fa-gear"></i> Install NPM and PM2</button>

    </div>
    <div class="m-1">
      <button class="btn btn-sm btn-danger ms-3" onclick="python(this)" id="saveButton"><i class="fa-brands fa-python"></i> Install Python</button>

    </div>
    <div class="m-1">
      <button class="btn btn-sm btn-danger ms-3" onclick="git(this)" id="saveButton"><i class="fa-brands fa-git-alt"></i> Install Git</button>

    </div>
    <hr>
  </div>
  
</div>





<div class="row text-light" style="max-height: 50vh;  overflow-y: auto; ">
  <pre id="logs" ></pre>
</div>



<script>
    async function setupserver(el) {
        var name = el.innerHTML
        el.innerHTML = '<i class="fas fa-spinner fa-spin "></i> Be Patient it will take a while...'

        const data = await execute(`sudo apt-cache install git -y \nsudo apt-get install nodejs -y\nsudo apt-get install npm -y\nnpm install pm2 -g\n sudo apt-get install nginx -y\nsudo apt-get install jq -y\napt-get install pyhton3 -y`)
        console.log(data);
        document.getElementById('logs').innerHTML = data


        el.innerHTML = `<i class="fa-solid fa-circle-check"></i> Done..` 
    }
</script>



