<!DOCTYPE html>
<html lang="en">
<%- include('./header.ejs') %>


<style>
  .hover:hover{
    color: cadetblue
  }
  .hover{
    color: white;
  }
</style>

<body style="font-family: 'Inclusive Sans', sans-serif; background-color: #343541;" >

  
  <nav class="navbar fixed-top navbar-dark bg-dark">
    <div class="container-fluid">
      <a class="navbar-brand" href="#">Kadmin.Online</a>
    </div>
  </nav>
  
  <div class="container-fluid p-0 h-100">
    
    


    <div class="row   position-sticky w-100" style="margin-top: 56px; height: 100%;" >
        <div class="col-2  bg-black">
          <div class="d-flex p-2">
            <p class="  m-auto  hover" type="button" hx-get="/testdash"  hx-trigger="mouseover" onclick="toggle('dash')" hx-target="#dash">
              <i class="fa-solid fa-gauge"></i>  Dashboard
              </p>
          </div>          
          <div class="d-flex p-2">
            <p class=" hover m-auto" type="button" hx-get="/testapps" hx-trigger="mouseover" onclick="toggle('apps')" hx-target="#apps">
              <i class="fa-solid fa-terminal"></i>  Terminal
              </p>
          </div>          
          <div class="d-flex p-2">
            <p class=" hover m-auto" type="button" hx-get="/testapps" hx-trigger="mouseover" onclick="toggle('apps')" hx-target="#apps">
              <i class="fa-solid fa-paper-plane"></i>  Applications
              </p>
          </div>
          <div class="d-flex p-2">
            <p class=" hover m-auto" type="button" hx-get="/testfolders" hx-trigger="mouseover" onclick="toggle('folders')" hx-target="#folders">
              <i class="fa-solid fa-folder"></i>  Folders
              </p>
          </div>

          
           

           
        </div>
        
        <div class="col-10 " id="features" >
          <div class="" id="dash" style="display: none; "></div>
          <div class="" id="apps" style="display: none; "></div>
          <div class="" id="folders" style="display: none; "></div>
          
        </div>
        
        
        
        <div id="log" class="">

        </div>
    </div>
  </div>
</body>


<script>
  function toggle(e) {
    var output = document.getElementById(e);

    // Get the parent div
    var parentDiv = document.getElementById('features');
    
    // Get all the divs inside the parent div
    var childDivs = parentDiv.querySelectorAll('div');

    // Loop through the divs and do something with each one
    console.log(e);
    childDivs.forEach(function(div) {
        if (div.id === e) {
            console.log(div);
            div.style.display = 'block';
        } else {
            div.style.display = 'none';
        }
    });
}

</script>



<script>
     function executeCommand(command , out) {
            // var command = document.getElementById("command").value;
            var user = "<%= server %>"  // Replace with the actual username

            var xhr = new XMLHttpRequest();
            xhr.open("POST", "https://kapi.kadmin.online/execute/" + user, true);
            xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");

            xhr.onreadystatechange = function () {
                if (xhr.readyState == 4 && xhr.status == 200) {
                    document.getElementById(out).innerText = xhr.responseText;
                }
            };

            xhr.send("command=" + encodeURIComponent(command));
        }
</script>




</html>